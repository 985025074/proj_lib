# MBR：
一种分区规范，windows 采用。
MBR 第一个扇区（precisely 前几个）包含基本的引导程序 + 分区表.
分区表受限于内容大小。最多划定四个分区的大小。
如果超出。那么第一个扇区将划分成：程序 + 一个指向拓展分区的分区记录。
拓展分区的前几个分区再次划分更多的分区出来。
## Q:为什么/dev/1 2 没有 三四（有的情况）
✅ 主分区 / 扩展分区规则：
一个磁盘最多只能有 4 个主分区。

如果你需要超过 4 个分区，就必须使用一个 扩展分区（Extended Partition），它本质上是“容器”。

扩展分区本身会占用一个主分区的位置（比如 /dev/sda2），但不能直接存放数据。

所有逻辑分区都被创建在扩展分区内部。（后面的叫逻辑分区）
## 分区表的实际记录数据：
32位记录大小I（512B per area） + 一个其实盘号
这样一个分区最多2T

## 逻辑区块位置 LBA（实际扇区大小由于技术进步已经大于512 这个用来描述512的位置）
与 MBR 仅使用第一个 512Bytes 区块来纪录不同， GPT 使用了 34 个 LBA 区块来纪录分区
信息！同时与过去 MBR 仅有一的区块，被干掉就死光光的情况不同， GPT 除了前面 34 个
LBA 之外，整个磁盘的最后 33 个 LBA 也拿来作为另一个备份！这样或许会比较安全些吧！
详细的结构有点像下面的模样。
# GPT  分区
经过检测 我的windows 都是gpt

## GPT 详细结构：
第一个“扇区” LBA 开机程序 + 一个标志。
第二扇区划定位置
后面记录分区。
他不记录大小，而是记录起始位置。

# BIOS 和 UEFI
## BIOS
1. 开机自动检
2. 寻找MBR 转交工
中间可能还有一层 Bootloader工作 基于MBR 
就是上下滑动的一个选择菜单

# UEFI 支持GPT 
高级版本的BIOS.支持GPT 

# BIOS 启动时
BIOS 加电自检后，读取 硬盘第一个扇区（MBR）

MBR 中有一小段启动代码，大小只有 512 字节

这段代码非常有限，通常做的事情是加载更完整的 bootloader 第二阶段，比如 GRUB 的核心代码

于是 bootloader 第二阶段开始运行，显示菜单、加载内核
# UEFI 启动时
UEFI 固件启动后，读取 EFI 系统分区（ESP）

找到指定的 .efi 启动文件（bootloader 可执行文件）

运行该启动程序（例如 grubx64.efi）

bootloader 展示启动菜单，加载内核，传递参数
# EFI(包含boot文件的分区（ESP 的组合 （ESP 是每个系统））)
怎么找到的。有一个特殊标志